# USRP B210 ISAC 硬體整合檢查清單

## 🎯 目標
完成USRP B210與28GHz ISAC系統的硬體整合，為後續ISAC功能開發奠定基礎。

## 📋 硬體整合階段

### **階段1: 基礎硬體檢查 (本週完成)**

#### 1.1 USRP B210 基本功能
- [ ] **USB連接檢查**
  - [ ] 確認USB 3.0連接穩定
  - [ ] 檢查設備是否被系統識別
  - [ ] 驗證UHD驅動安裝

- [ ] **基本參數測試**
  - [ ] 取樣率設定 (目標: 30 Msps)
  - [ ] 頻率設定 (目標: 2 GHz IF)
  - [ ] 增益控制 (TX/RX增益範圍)

- [ ] **TX/RX功能驗證**
  - [ ] 簡單正弦波發射測試
  - [ ] 信號接收與頻譜分析
  - [ ] 時序同步檢查

#### 1.2 軟體環境確認
- [ ] **UHD 4.8+ 安裝**
  - [ ] 版本檢查: `uhd_config_info`
  - [ ] 設備發現: `uhd_find_devices`
  - [ ] 基本操作測試

- [ ] **GNU Radio 3.10+ 安裝**
  - [ ] 版本檢查: `gnuradio-companion --version`
  - [ ] 基本流程圖測試
  - [ ] USRP Source/Sink測試

- [ ] **Python環境**
  - [ ] Python 3.8+ 確認
  - [ ] NumPy, SciPy 安裝
  - [ ] 路徑設定檢查

### **階段2: 頻率轉換器整合 (下週)**

#### 2.1 Up/Down Converter
- [ ] **硬體連接**
  - [ ] 2GHz IF ↔ 28GHz RF 轉換器
  - [ ] 電源供應檢查
  - [ ] 溫度監控

- [ ] **頻率校準**
  - [ ] 2GHz IF 頻率準確性
  - [ ] 28GHz RF 頻率準確性
  - [ ] 轉換損耗測量

#### 2.2 信號品質驗證
- [ ] **頻譜分析**
  - [ ] 2GHz IF 信號品質
  - [ ] 28GHz RF 信號品質
  - [ ] 雜訊水平測量

- [ ] **功率測量**
  - [ ] TX 輸出功率
  - [ ] RX 靈敏度
  - [ ] 動態範圍

### **階段3: Beam Former整合 (下下週)**

#### 3.1 TMYTEK設備
- [ ] **硬體連接**
  - [ ] BBox 設備連接
  - [ ] Power Detector 連接
  - [ ] 控制介面檢查

- [ ] **軟體驅動**
  - [ ] TLKCoreService 安裝
  - [ ] 設備識別與初始化
  - [ ] 基本控制功能

#### 3.2 Beam控制測試
- [ ] **角度控制**
  - [ ] TX beam 角度設定
  - [ ] RX beam 角度設定
  - [ ] 掃描模式測試

- [ ] **功率測量**
  - [ ] 不同角度功率測量
  - [ ] 掃描功率圖譜
  - [ ] 校準驗證

### **階段4: 天線陣列整合 (第三週)**

#### 4.1 指向性天線
- [ ] **天線安裝**
  - [ ] 天線陣列定位
  - [ ] 連接器檢查
  - [ ] 接地檢查

- [ ] **輻射特性**
  - [ ] 主波束方向
  - [ ] 旁瓣抑制
  - [ ] 極化特性

#### 4.2 系統整合測試
- [ ] **端到端測試**
  - [ ] 完整信號路徑
  - [ ] 信號品質驗證
  - [ ] 系統穩定性

## 🧪 測試腳本

### **基礎硬體測試**
```bash
cd /home/fae/workarea/ISAC/usrp_b210
python tests/basic_hardware_test.py
```

### **進階功能測試**
```bash
# 頻率轉換器測試
python tests/frequency_converter_test.py

# Beam控制測試  
python tests/beam_control_test.py

# 完整系統測試
python tests/full_system_test.py
```

## 📊 成功標準

### **階段1成功標準**
- [ ] USRP B210 基本TX/RX功能正常
- [ ] 30 Msps 取樣率穩定運行
- [ ] 2 GHz IF 頻率準確性 < 1 ppm
- [ ] 基本信號品質達標

### **階段2成功標準**
- [ ] 頻率轉換器正常工作
- [ ] 28GHz RF 信號品質達標
- [ ] 轉換損耗 < 3 dB
- [ ] 溫度穩定在安全範圍

### **階段3成功標準**
- [ ] Beam Former 完全可控
- [ ] 掃描模式正常運行
- [ ] 角度精度 < 1度
- [ ] 功率測量準確

### **階段4成功標準**
- [ ] 完整系統穩定運行
- [ ] 信號路徑損耗 < 6 dB
- [ ] 系統噪聲係數 < 8 dB
- [ ] 連續運行 > 24小時

## 🚨 常見問題與解決方案

### **USRP連接問題**
- **問題**: 設備未找到
- **解決**: 檢查USB連接、重啟UHD服務
- **命令**: `sudo uhd_usrp_probe`

### **頻率轉換器問題**
- **問題**: 轉換損耗過大
- **解決**: 檢查連接器、校準頻率
- **測量**: 使用頻譜分析儀

### **Beam控制問題**
- **問題**: 角度設定失敗
- **解決**: 檢查設備連接、重啟服務
- **測試**: 使用TMYTEK測試工具

## 📅 時間安排

| 週次 | 主要任務 | 預期成果 | 風險等級 |
|------|----------|----------|----------|
| 本週 | 基礎硬體檢查 | USRP基本功能正常 | 低 |
| 下週 | 頻率轉換器整合 | 28GHz信號品質達標 | 中 |
| 下下週 | Beam Former整合 | 波束控制功能完整 | 中 |
| 第三週 | 天線陣列整合 | 完整系統運行 | 中 |

## 🎯 下一步行動

1. **立即執行**: `python tests/basic_hardware_test.py`
2. **檢查結果**: 根據測試結果調整硬體設定
3. **解決問題**: 優先解決阻礙進度的硬體問題
4. **準備下階段**: 收集頻率轉換器相關資料

---

*此檢查清單將根據實際進展持續更新*
